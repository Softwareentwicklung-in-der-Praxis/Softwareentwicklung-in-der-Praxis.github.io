name: Seite bauen

on:
  schedule:
    - cron: '45 10 * * *'
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  workflow_dispatch:



jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write  
    steps:
    - uses: actions/checkout@v3

    - name: Veranstaltungen holen
      run: |
        curl -L -o veranstaltungen.zip https://rheinjug.de/files/extern/veranstaltungen.zip
        unzip veranstaltungen.zip -d veranstaltungen
        cp veranstaltungen/veranstaltungen/* _posts/
 
    - name: Deploy ğŸš€
      uses: JamesIves/github-pages-deploy-action@v4
      with:
        folder: jekyll
        
